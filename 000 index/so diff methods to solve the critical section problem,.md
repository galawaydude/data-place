lock variables (software based, busy waiting)

there is a shared variables, telling if some other guy is in the critical section or not
lock 0, means its free
lock 1, means its not free